{"version":3,"file":"main-aItJj6yD.js","sources":["../../src/main.js"],"sourcesContent":["/**\n * TRILO-REPO | CORE JAVASCRIPT\n * Образовательная платформа: Инновации на пальцах\n */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    // 1. ИНИЦИАЛИЗАЦИЯ ИКОНОК\n    if (typeof lucide !== 'undefined') {\n        lucide.createIcons();\n    }\n\n    // 2. МОБИЛЬНОЕ МЕНЮ (Бургер)\n    const burger = document.getElementById('burger-toggle');\n    const nav = document.getElementById('nav-menu');\n    const navLinks = document.querySelectorAll('.nav__link');\n    const body = document.body;\n\n    const toggleMenu = () => {\n        burger.classList.toggle('active');\n        nav.classList.toggle('active');\n        // Блокируем скролл при открытом меню\n        body.style.overflow = nav.classList.contains('active') ? 'hidden' : '';\n    };\n\n    if (burger && nav) {\n        burger.addEventListener('click', (e) => {\n            e.stopPropagation();\n            toggleMenu();\n        });\n\n        // Закрытие при клике на ссылку\n        navLinks.forEach(link => {\n            link.addEventListener('click', () => {\n                if (nav.classList.contains('active')) toggleMenu();\n            });\n        });\n\n        // Закрытие при клике вне меню\n        document.addEventListener('click', (e) => {\n            if (nav.classList.contains('active') && !nav.contains(e.target) && !burger.contains(e.target)) {\n                toggleMenu();\n            }\n        });\n    }\n\n    // 3. ЭФФЕКТЫ ХЕДЕРА ПРИ СКРОЛЛЕ\n    const header = document.querySelector('.header');\n    const handleScroll = () => {\n        if (window.scrollY > 50) {\n            header.classList.add('header--scrolled');\n        } else {\n            header.classList.remove('header--scrolled');\n        }\n    };\n    window.addEventListener('scroll', handleScroll);\n\n    // 4. ПАРАЛЛАКС ЭФФЕКТ В HERO (Mouse Move)\n    const hero = document.querySelector('.hero');\n    const heroBlob = document.querySelector('.hero__blob');\n    \n    if (hero && heroBlob) {\n        hero.addEventListener('mousemove', (e) => {\n            const { clientX, clientY } = e;\n            const centerX = window.innerWidth / 2;\n            const centerY = window.innerHeight / 2;\n            \n            const moveX = (clientX - centerX) / 25;\n            const moveY = (clientY - centerY) / 25;\n            \n            heroBlob.style.transform = `translate(calc(-50% + ${moveX}px), calc(-50% + ${moveY}px))`;\n        });\n    }\n\n    // 5. ЛОГИКА ФОРМЫ (Валидация, Капча, AJAX)\n    const contactForm = document.getElementById('contact-form');\n    const phoneInput = document.getElementById('phone-input');\n    const captchaText = document.getElementById('captcha-text');\n    const captchaInput = document.getElementById('captcha-input');\n    const formOk = document.getElementById('form-ok');\n\n    let captchaAnswer = 0;\n\n    // Генерация капчи\n    const generateCaptcha = () => {\n        if (captchaText) {\n            const n1 = Math.floor(Math.random() * 10) + 1;\n            const n2 = Math.floor(Math.random() * 10) + 2;\n            captchaAnswer = n1 + n2;\n            captchaText.innerText = `${n1} + ${n2} =`;\n        }\n    };\n\n    generateCaptcha();\n\n    // Валидация телефона (только цифры)\n    if (phoneInput) {\n        phoneInput.addEventListener('input', (e) => {\n            e.target.value = e.target.value.replace(/\\D/g, '');\n        });\n    }\n\n    // Обработка отправки\n    if (contactForm) {\n        contactForm.addEventListener('submit', (e) => {\n            e.preventDefault();\n\n            // Проверка капчи\n            if (parseInt(captchaInput.value) !== captchaAnswer) {\n                alert('Ошибка: Решите математический пример правильно.');\n                generateCaptcha();\n                captchaInput.value = '';\n                return;\n            }\n\n            // Имитация отправки (AJAX)\n            const submitBtn = contactForm.querySelector('button[type=\"submit\"]');\n            const originalBtnText = submitBtn.innerText;\n            \n            submitBtn.disabled = true;\n            submitBtn.innerText = 'ОБРАБОТКА...';\n\n            setTimeout(() => {\n                contactForm.style.opacity = '0';\n                setTimeout(() => {\n                    contactForm.style.display = 'none';\n                    formOk.style.display = 'block';\n                    formOk.classList.add('animate__animated', 'animate__fadeIn');\n                }, 300);\n            }, 1500);\n        });\n    }\n\n    // 6. COOKIE POPUP\n    const cookiePopup = document.getElementById('cookie-popup');\n    const cookieAccept = document.getElementById('cookie-accept');\n\n    if (cookiePopup && !localStorage.getItem('trilo_repo_consent')) {\n        setTimeout(() => {\n            cookiePopup.classList.add('active');\n        }, 3000);\n    }\n\n    if (cookieAccept) {\n        cookieAccept.addEventListener('click', () => {\n            localStorage.setItem('trilo_repo_consent', 'true');\n            cookiePopup.classList.remove('active');\n        });\n    }\n\n    // 7. АКТИВНЫЕ ССЫЛКИ ПРИ СКРОЛЛЕ\n    const sections = document.querySelectorAll('section[id]');\n    const scrollSpy = () => {\n        const scrollY = window.pageYOffset;\n\n        sections.forEach(current => {\n            const sectionHeight = current.offsetHeight;\n            const sectionTop = current.offsetTop - 100;\n            const sectionId = current.getAttribute('id');\n            const link = document.querySelector(`.nav__link[href*=${sectionId}]`);\n\n            if (link) {\n                if (scrollY > sectionTop && scrollY <= sectionTop + sectionHeight) {\n                    link.classList.add('active');\n                } else {\n                    link.classList.remove('active');\n                }\n            }\n        });\n    };\n    window.addEventListener('scroll', scrollSpy);\n});"],"names":["burger","nav","navLinks","body","toggleMenu","e","link","header","handleScroll","hero","heroBlob","clientX","clientY","centerX","centerY","moveX","moveY","contactForm","phoneInput","captchaText","captchaInput","formOk","captchaAnswer","generateCaptcha","n1","n2","submitBtn","cookiePopup","cookieAccept","sections","scrollSpy","scrollY","current","sectionHeight","sectionTop","sectionId"],"mappings":"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"}